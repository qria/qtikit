{"version":3,"file":"main.dade4d7ea701760afaf6.hot-update.js","sources":["webpack:///./src/html/index.ts","webpack:///./src/interactions/associate-interaction.ts","webpack:///./src/interactions/choice-interaction.ts","webpack:///./src/interactions/custom-interaction.ts","webpack:///./src/interactions/drawing-interaction.ts","webpack:///./src/interactions/extended-text-interaction.ts","webpack:///./src/interactions/feedback-block.ts","webpack:///./src/interactions/gap-match-interaction.ts","webpack:///./src/interactions/graphic-associate-interaction.ts","webpack:///./src/interactions/graphic-order-interaction.ts","webpack:///./src/interactions/hotspot-interaction.ts","webpack:///./src/interactions/hottext-interaction.ts","webpack:///./src/interactions/index.ts","webpack:///./src/interactions/info-control.ts","webpack:///./src/interactions/match-interaction.ts","webpack:///./src/interactions/math.ts","webpack:///./src/interactions/media-interaction.ts","webpack:///./src/interactions/order-interaction.ts","webpack:///./src/interactions/select-point-interaction.ts","webpack:///./src/interactions/slider-interaction.ts","webpack:///./src/interactions/template-block.ts","webpack:///./src/interactions/upload-interaction.ts","webpack:///./src/qti.tsx"],"sourcesContent":["import React from \"react\";\n\ninterface Attributes {\n  [key: string]: string | number | boolean | undefined;\n}\n\nexport function getAttributes(el: Element): Attributes {\n  const attributes: Attributes = {};\n  for (let i = 0; i < el.attributes.length; i++) {\n    const attr = el.attributes[i];\n    attributes[attr.name] = attr.value;\n  }\n\n  return attributes;\n}\n\nexport function createHTMLComponent(\n  node: Element,\n  props: Attributes,\n  children: React.ReactElement[]\n): React.ReactElement {\n  return React.createElement(\n    node.nodeName,\n    {\n      ...props,\n      ...getAttributes(node),\n    },\n    ...children\n  );\n}\n","import React from \"react\";\n\nexport default function create(\n  node: Node | Element\n): React.ReactElement | null {\n  return null;\n}\n","import React from \"react\";\n\nexport default function create(\n  node: Node | Element\n): React.ReactElement | null {\n  return null;\n}\n","import React from \"react\";\n\nexport default function create(\n  node: Node | Element\n): React.ReactElement | null {\n  return null;\n}\n","import React from \"react\";\n\nexport default function create(\n  node: Node | Element\n): React.ReactElement | null {\n  return null;\n}\n","import React from \"react\";\n\nexport default function create(\n  node: Node | Element\n): React.ReactElement | null {\n  return null;\n}\n","import React from \"react\";\n\nexport default function create(\n  node: Node | Element\n): React.ReactElement | null {\n  return null;\n}\n","import React from \"react\";\n\nexport default function create(\n  node: Node | Element\n): React.ReactElement | null {\n  return null;\n}\n","import React from \"react\";\n\nexport default function create(\n  node: Node | Element\n): React.ReactElement | null {\n  return null;\n}\n","import React from \"react\";\n\nexport default function create(\n  node: Node | Element\n): React.ReactElement | null {\n  return null;\n}\n","import React from \"react\";\n\nexport default function create(\n  node: Node | Element\n): React.ReactElement | null {\n  return null;\n}\n","import React from \"react\";\n\nexport default function create(\n  node: Node | Element\n): React.ReactElement | null {\n  return null;\n}\n","import React from \"react\";\n\nimport createCustomInteraction from \"./custom-interaction\";\nimport createDrawingInteraction from \"./drawing-interaction\";\nimport createGapMatchInteraction from \"./gap-match-interaction\";\nimport createMatchInteraction from \"./match-interaction\";\nimport createGraphicGapMatchInteraction from \"./gap-match-interaction\";\nimport createHotspotInteraction from \"./hotspot-interaction\";\nimport createGraphicOrderInteraction from \"./graphic-order-interaction\";\nimport createSelectPointInteraction from \"./select-point-interaction\";\nimport createGraphicAssociateInteraction from \"./graphic-associate-interaction\";\nimport createSliderInteraction from \"./slider-interaction\";\nimport createChoiceInteraction from \"./choice-interaction\";\nimport createMediaInteraction from \"./media-interaction\";\nimport createHottextInteraction from \"./hottext-interaction\";\nimport createOrderInteraction from \"./order-interaction\";\nimport createExtendedTextInteraction from \"./extended-text-interaction\";\nimport createUploadInteraction from \"./upload-interaction\";\nimport createAssociateInteraction from \"./associate-interaction\";\nimport createFeedbackBlock from \"./feedback-block\";\nimport createTemplateBlock from \"./template-block\";\nimport createInfoControl from \"./info-control\";\nimport createMath from \"./math\";\n\nexport function createInteractionComponent(\n  node: Node | Element\n): React.ReactElement | null {\n  switch (node.nodeName) {\n    case \"customInteraction\":\n      return createCustomInteraction(node);\n    case \"drawingInteraction\":\n      return createDrawingInteraction(node);\n    case \"gapMatchInteraction\":\n      return createGapMatchInteraction(node);\n    case \"matchInteraction\":\n      return createMatchInteraction(node);\n    case \"graphicGapMatchInteraction\":\n      return createGraphicGapMatchInteraction(node);\n    case \"hotspotInteraction\":\n      return createHotspotInteraction(node);\n    case \"graphicOrderInteraction\":\n      return createGraphicOrderInteraction(node);\n    case \"selectPointInteraction\":\n      return createSelectPointInteraction(node);\n    case \"graphicAssociateInteraction\":\n      return createGraphicAssociateInteraction(node);\n    case \"sliderInteraction\":\n      return createSliderInteraction(node);\n    case \"choiceInteraction\":\n      return createChoiceInteraction(node);\n    case \"mediaInteraction\":\n      return createMediaInteraction(node);\n    case \"hottextInteraction\":\n      return createHottextInteraction(node);\n    case \"orderInteraction\":\n      return createOrderInteraction(node);\n    case \"extendedTextInteraction\":\n      return createExtendedTextInteraction(node);\n    case \"uploadInteraction\":\n      return createUploadInteraction(node);\n    case \"associateInteraction\":\n      return createAssociateInteraction(node);\n    case \"feedbackBlock\":\n      return createFeedbackBlock(node);\n    case \"templateBlock\":\n      return createTemplateBlock(node);\n    case \"infoControl\":\n      return createInfoControl(node);\n    case \"math\":\n      return createMath(node);\n    default:\n      return null;\n  }\n}\n","import React from \"react\";\n\nexport default function create(\n  node: Node | Element\n): React.ReactElement | null {\n  return null;\n}\n","import React from \"react\";\n\nexport default function create(\n  node: Node | Element\n): React.ReactElement | null {\n  return null;\n}\n","import React from \"react\";\n\nexport default function create(\n  node: Node | Element\n): React.ReactElement | null {\n  return null;\n}\n","import React from \"react\";\n\nexport default function create(\n  node: Node | Element\n): React.ReactElement | null {\n  return null;\n}\n","import React from \"react\";\n\nexport default function create(\n  node: Node | Element\n): React.ReactElement | null {\n  return null;\n}\n","import React from \"react\";\n\nexport default function create(\n  node: Node | Element\n): React.ReactElement | null {\n  return null;\n}\n","import React from \"react\";\n\nexport default function create(\n  node: Node | Element\n): React.ReactElement | null {\n  return null;\n}\n","import React from \"react\";\n\nexport default function create(\n  node: Node | Element\n): React.ReactElement | null {\n  return null;\n}\n","import React from \"react\";\n\nexport default function create(\n  node: Node | Element\n): React.ReactElement | null {\n  return null;\n}\n","import React from \"react\";\nimport { DOMParser } from \"@xmldom/xmldom\";\n\nimport { createInteractionComponent } from \"./interactions\";\nimport { createHTMLComponent } from \"./html\";\n\nnamespace QTI {\n  const NodeType = {\n    ELEMENT_NODE: 1,\n    TEXT_NODE: 3,\n    COMMENT_NODE: 8,\n    DOCUMENT_NODE: 9,\n    DOCUMENT_TYPE_NODE: 10,\n    DOCUMENT_FRAGMENT_NODE: 11,\n  };\n\n  type NodeType = typeof NodeType[keyof typeof NodeType];\n\n  const InteractionElementTypes = [\n    \"customInteraction\",\n    \"drawingInteraction\",\n    \"gapMatchInteraction\",\n    \"matchInteraction\",\n    \"graphicGapMatchInteraction\",\n    \"hotspotInteraction\",\n    \"graphicOrderInteraction\",\n    \"selectPointInteraction\",\n    \"graphicAssociateInteraction\",\n    \"sliderInteraction\",\n    \"choiceInteraction\",\n    \"mediaInteraction\",\n    \"hottextInteraction\",\n    \"orderInteraction\",\n    \"extendedTextInteraction\",\n    \"uploadInteraction\",\n    \"associateInteraction\",\n    \"feedbackBlock\",\n    \"templateBlock\",\n    \"infoControl\",\n    \"math\",\n  ];\n\n  const HTMLElementTypes = [\n    \"pre\",\n    \"h1\",\n    \"h2\",\n    \"h3\",\n    \"h4\",\n    \"h5\",\n    \"h6\",\n    \"p\",\n    \"address\",\n    \"dl\",\n    \"ol\",\n    \"ul\",\n    \"hr\",\n    \"blockquote\",\n    \"table\",\n    \"div\",\n    \"article\",\n    \"aside\",\n    \"audio\",\n    \"figure\",\n    \"header\",\n    \"nav\",\n    \"section\",\n    \"video\",\n    \"img\",\n    \"rb\",\n    \"rp\",\n    \"rt\",\n    \"rtc\",\n    \"ruby\",\n    \"em\",\n    \"a\",\n    \"code\",\n    \"span\",\n    \"acronym\",\n    \"big\",\n    \"tt\",\n    \"kbd\",\n    \"q\",\n    \"i\",\n    \"sup\",\n  ];\n\n  function isElementNode(nodeType: number): boolean {\n    return nodeType === NodeType.ELEMENT_NODE;\n  }\n\n  function isHTMLElementType(nodeName: string): boolean {\n    return HTMLElementTypes.includes(nodeName);\n  }\n\n  function isInteractionElement(nodeName: string): boolean {\n    return InteractionElementTypes.includes(nodeName);\n  }\n\n  function parseItemBody(\n    node: Node | Element,\n    count: number = 0\n  ): React.ReactElement[] {\n    const component: React.ReactElement[] = [];\n\n    for (let i = 0; i < node.childNodes.length; i++) {\n      const childNode = node.childNodes[i] as Element;\n      const defaultProps = {\n        key: `qti-component-${i}-${count++}`,\n      };\n\n      if (childNode.nodeName === \"#text\") {\n        component.push(\n          React.createElement(\"span\", defaultProps, childNode.nodeValue)\n        );\n      } else if (isHTMLElementType(childNode.nodeName)) {\n        const children = parseItemBody(childNode);\n        component.push(createHTMLComponent(childNode, defaultProps, children));\n      } else if (isInteractionElement(childNode.nodeName)) {\n        const interactionComponent = createInteractionComponent(childNode);\n        if (interactionComponent) {\n          component.push(interactionComponent);\n        }\n      } else {\n        // MAYBE createCustomComponent\n        throw new Error(`Unsupported node type: ${childNode.nodeName}`);\n      }\n    }\n\n    return component;\n  }\n\n  export function createComponent(itemBodyXML: string): React.ReactElement[] {\n    const root = new DOMParser().parseFromString(itemBodyXML, \"text/xml\");\n    const itemBody = root.childNodes[0];\n\n    if (!itemBody) {\n      throw new Error(\"QTI itemBody is not found\");\n    }\n\n    return parseItemBody(itemBody);\n  }\n}\n\nexport default QTI;\n"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAAA;AAMA;AACA;AACA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AAKA;AAQA;;;;;;;;;;;;;AC3BA;AAAA;AAGA;AACA;;;;;;;;;;;;;ACJA;AAAA;AAGA;AACA;;;;;;;;;;;;;ACJA;AAAA;AAGA;AACA;;;;;;;;;;;;;ACJA;AAAA;AAGA;AACA;;;;;;;;;;;;;ACJA;AAAA;AAGA;AACA;;;;;;;;;;;;;ACJA;AAAA;AAGA;AACA;;;;;;;;;;;;;ACJA;AAAA;AAGA;AACA;;;;;;;;;;;;;ACJA;AAAA;AAGA;AACA;;;;;;;;;;;;;ACJA;AAAA;AAGA;AACA;;;;;;;;;;;;;ACJA;AAAA;AAGA;AACA;;;;;;;;;;;;;ACJA;AAAA;AAGA;AACA;;;;;;;;;;;;;ACJA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AAGA;AACA;AACA;AACA;AAAA;AACA;AACA;AAAA;AACA;AACA;AAAA;AACA;AACA;AAAA;AACA;AACA;AAAA;AACA;AACA;AAAA;AACA;AACA;AAAA;AACA;AACA;AAAA;AACA;AACA;AAAA;AACA;AACA;AAAA;AACA;AACA;AAAA;AACA;AACA;AAAA;AACA;AACA;AAAA;AACA;AACA;AAAA;AACA;AACA;AAAA;AACA;AACA;AAAA;AACA;AACA;AAAA;AACA;AACA;AAAA;AACA;AACA;AAAA;AACA;AACA;AAAA;AACA;AACA;AAAA;AACA;AA5CA;AA8CA;;;;;;;;;;;;;ACvEA;AAAA;AAGA;AACA;;;;;;;;;;;;;ACJA;AAAA;AAGA;AACA;;;;;;;;;;;;;ACJA;AAAA;AAGA;AACA;;;;;;;;;;;;;ACJA;AAAA;AAGA;AACA;;;;;;;;;;;;;ACJA;AAAA;AAGA;AACA;;;;;;;;;;;;;ACJA;AAAA;AAGA;AACA;;;;;;;;;;;;;ACJA;AAAA;AAGA;AACA;;;;;;;;;;;;;ACJA;AAAA;AAGA;AACA;;;;;;;;;;;;;ACJA;AAAA;AAGA;AACA;;;;;;;;;;;;;;;;;;;;;;ACNA;AACA;AAEA;AACA;;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AANA;AAWA;AAwBA;AACA;AA2CA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AADA;AACA;AAGA;AACA;AAGA;AACA;AACA;AACA;AACA;AACA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAvIA;AACA;AAwIA;;;;A","sourceRoot":""}